# BẬT CÔNG CỤ REWRITE CỦA APACHE
RewriteEngine On

# --- BẢO MẬT ---

# 1. Ngăn chặn việc liệt kê file trong thư mục
Options -Indexes

# 2. Bảo vệ file .htaccess
<Files ".htaccess">
    Require all denied
</Files>

# 3. Buộc chuyển hướng sang HTTPS (bỏ ghi chú khi đưa lên hosting có SSL)
# RewriteCond %{HTTPS} off
# RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]


# --- XỬ LÝ LỖI ---

# 4. Chỉ định trang lỗi 404 tùy chỉnh
ErrorDocument 404 /HugPog/public/404.php


# --- TỐI ƯU HÓA TỐC ĐỘ ---

# 5. Kích hoạt bộ nhớ đệm trình duyệt
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/svg+xml "access plus 1 year"
    ExpiresByType text/css "access plus 1 month"
    ExpiresByType application/javascript "access plus 1 month"
</IfModule>

# 6. Kích hoạt nén GZIP
<IfModule mod_deflate.c>
    AddOutputFilterByType DEFLATE text/plain text/html text/xml text/css
    AddOutputFilterByType DEFLATE application/xml application/xhtml+xml application/rss+xml
    AddOutputFilterByType DEFLATE application/javascript application/x-javascript
</IfModule>
